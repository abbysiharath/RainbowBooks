<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Books - Rainbow Books</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="wrapper">

    <header>
        <a href="index.html" class="logo">Rainbow Books</a>
        <nav>
            <a href="index.html">Home</a>
            <a href="books.html">Books</a>
            <a href="authors.html">Authors</a>
            <a href="contact.html">Contact</a>
            <a href="cart.html">Cart</a>

            <div class="search-container">
                <input type="text" id="search-bar" placeholder="Search by keyword, title, author...">
                <button onclick="performSearch()">Search</button>
            </div>
        </nav>
    </header>

    <section>
        <h1>Books</h1>
        <div class="filter-panel">
            <h3>Filter Results</h3>
            <label for="sort">Sort by:</label>
            <select id="sort">
                <option value="price">Price</option>
                <option value="popularity">Popularity</option>
                <option value="new-releases">New Releases</option>
            </select>
            <h4>Genres</h4>
            <label><input type="checkbox" name="genre" value="fiction"> Fiction</label><br>
            <label><input type="checkbox" name="genre" value="non-fiction"> Non-Fiction</label><br>
            <label><input type="checkbox" name="genre" value="mystery"> Mystery</label><br>
            <label><input type="checkbox" name="genre" value="fantasy"> Fantasy</label><br>
            <label><input type="checkbox" name="genre" value="romance"> Romance</label><br>
            <label><input type="checkbox" name="genre" value="science-fiction"> Science Fiction</label><br>
            <h4>Price Range</h4>
            <label for="min-price">Min Price:</label>
            <input type="number" id="min-price" name="min-price" placeholder="0"><br>
            <label for="max-price">Max Price:</label>
            <input type="number" id="max-price" name="max-price" placeholder="100">
            <button onclick="applyFilters()">Apply Filters</button>
        </div>
        <div class="book-display">
            <div class="book" onclick="openModal('book1')">
                <img src="book1.jpg" alt="Book 1">
                <p class="book-title">Book Title 1</p>
                <p class="book-author">Author 1</p>
                <p class="book-price">$10.00</p>
                <button class="add-to-cart" onclick="addToCart('book1', 'Book Title 1', 10.00, 'book1.jpg')">Add to Cart</button>
            </div>
            <div class="book" onclick="openModal('book2')">
                <img src="book2.jpg" alt="Book 2">
                <p class="book-title">Book Title 2</p>
                <p class="book-author">Author 2</p>
                <p class="book-price">$15.00</p>
                <button class="add-to-cart" onclick="addToCart('book2', 'Book Title 2', 15.00, 'book2.jpg')">Add to Cart</button>
            </div>
            <!-- Add more book elements as needed -->
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Rainbow Books</p>
    </footer>

    </div>

    <!-- Modal Structure -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modal-details"></div>
        </div>
    </div>

    <!-- Cart Section -->
    <section id="cart" style="display: none;">
        <h2>Shopping Cart</h2>
        <table class="cart">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                <!-- Cart items will be dynamically populated here -->
            </tbody>
        </table>
        <button class="checkout-btn" onclick="location.href='checkout.html'">Proceed to Checkout</button>
    </section>

    <script>
        function applyFilters() {
            // This is where you would implement your filtering logic
            alert("Filters applied! This is just a placeholder function.");
        }

        function performSearch() {
            const query = document.getElementById('search-bar').value;
            // This is where you would implement your search logic
            alert("Search performed for: " + query + ". This is just a placeholder function.");
        }

        function openModal(bookId) {
            const modal = document.getElementById('modal');
            const modalDetails = document.getElementById('modal-details');
            
            // Placeholder data for book details
            const bookDetails = {
                book1: {
                    title: "Book Title 1",
                    cover: "book1.jpg",
                    description: "This is a summary of Book 1.",
                    author: "Author 1",
                    authorBio: "Author 1 is a well-known writer of fiction.",
                    reviews: "★★★★☆",
                    comments: ["Great book!", "Loved it!"],
                    relatedBooks: ["Book Title 2", "Book Title 3"]
                },
                book2: {
                    title: "Book Title 2",
                    cover: "book2.jpg",
                    description: "This is a summary of Book 2.",
                    author: "Author 2",
                    authorBio: "Author 2 is a renowned author in mystery genre.",
                    reviews: "★★★☆☆",
                    comments: ["Interesting read.", "Good but could be better."],
                    relatedBooks: ["Book Title 1", "Book Title 4"]
                }
            };

            const book = bookDetails[bookId];

            modalDetails.innerHTML = `
                <img src="${book.cover}" alt="${book.title}">
                <h2>${book.title}</h2>
                <p><strong>Author:</strong> ${book.author}</p>
                <p>${book.description}</p>
                <p><strong>Author Bio:</strong> ${book.authorBio}</p>
                <p><strong>Reviews:</strong> ${book.reviews}</p>
                <p><strong>Customer Comments:</strong></p>
                <ul>
                    ${book.comments.map(comment => `<li>${comment}</li>`).join('')}
                </ul>
                <button class="add-to-cart">Add to Cart</button>
                <h3>Related Books</h3>
                <ul>
                    ${book.relatedBooks.map(title => `<li>${title}</li>`).join('')}
                </ul>
            `;

            modal.style.display = "block";
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.style.display = "none";
        }

        // Close the modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        function addToCart(id, title, price, cover) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const existingItem = cart.find(item => item.id === id);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({ id, title, price, cover, quantity: 1 });
        }

        localStorage.setItem('cart', JSON.stringify(cart));
        // Display confirmation message
        alert("Added to cart: " + title);
        // You can also use other methods like modals to display the confirmation
    }
    </script>
</body>
</html>
